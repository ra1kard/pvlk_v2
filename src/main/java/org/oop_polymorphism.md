# Что такое полиморфизм в Java

Полиморфизм - это возможность применения одноименных методов 
с одинаковыми или различными наборами параметров в одном классе
или в группе классов, связанных отношением наследования.

Слово "полиморфизм" может показаться сложным - но это не так. 
Нужно просто разбить данное определение на части и показать на примерах, 
что имеется в виду. 

Полиморфизм, если перевести, - это значит "много форм". 
Например, актер в театре может примерять на себя много ролей - или принимать "много форм".

Так же и наш код - благодаря полиморфизму он становится более гибким, 
чем в языках программирования, которые не используют принципы ООП.
___
Так о каких формах идет речь? 

Давайте сначала приведем примеры и покажем, 
как на практике проявляется полиморфизм, а потом снова вернемся к его определению.

## Как проявляется полиморфизм
Дело в том, что если бы в Java не было принципа полиморфизма, 
компилятор бы интерпретировал это как ошибку:

```java
void myMethod(int a) {
    //...
}
```

```java
void myMethod(String a) {
    //...
}
```

Как видите, методы на картинке отличаются значениями, которые они принимают:

- первый принимает int 
- а второй принимает String

Однако, поскольку в  Java используется принцип полиморфизма, 
компилятор не будет воспринимать это как ошибку, 
потому что такие методы будут считаться разными:

Называть методы одинаково - это очень удобно. 

Например, если у нас есть метод, который ищет корень квадратный из числа, 
гораздо легче запомнить одно название (например, sqrt()), 
чем по одному отдельному названию на этот же метод, написанный для каждого типа

Теперь Вы можете понять, почему часто этот принцип описывают фразой:

ОДИН ИНТЕРФЕЙС - МНОГО МЕТОДОВ

Это предполагает, что мы можем заполнить одно название (один интерфейс),
по которому мы сможем обращаться к нескольким методам.

## Перегрузка методов

То, что мы показывали выше - несколько методов с одним названием 
и разными параметрами - называется перегрузкой. 

Но это был пример перегрузки метода в одном классе. 
Но бывает еще один случай - переопределение методов родительского класса.

### Переопределение методов родителя

Когда мы наследуем какой-либо класс, мы наследуем и все его методы. 
Но если нам хочется изменить какой-либо из методов, 
который мы наследуем, мы можем всего-навсего переопределить его. 

Мы не обязаны, например, создавать отдельный метод с похожим названием для наших нужд,
а унаследованный метод будет "мертвым грузом" лежать в нашем классе.

Именно то, что мы можем создать в классе-наследнике класс с таким же названием, 
как и класс, который мы унаследовали от родителя, и называется переопределением.



## Так что же такое полиморфизм

Тем не менее, полиморфизм - это принцип.

Все реальные примеры, которые мы приведодили выше - это только способы реализации полиморфизма.

___

Давайте снова посмотрим на определение, 
которое мы давали ранее:

Полиморфизм - возможность применения одноименных методов 
с одинаковыми или различными наборами параметров в одном классе
или в группе классов, связанных отношением наследования.



Выглядит понятнее, правда? Мы показали, как можно:

- создавать "одноименные методы" в одном классе ("перегрузка методов")
- или изменить поведение методов родительского класса ("переопределение методов").

Все это - проявления "повышенной гибкости" объектно-ориентированных языков благодаря полиморфизму.


___

пример:

```java
package oop_polymorphism.test2;

import java.util.ArrayList;

public class Main {
    public static void main(String[] args) {
        ArrayList<Employee> employees = new ArrayList<>();
        employees.add(new Boss(500));
        employees.add(new Manager());
        employees.add(new Manager());
        employees.add(new Security());
        employees.add(new Manager());

        for (Employee employee : employees) {
            employee.printName();
        }

        System.out.println(((Boss) employees.get(0)).getQuantityEmployees());
    }
}


class Employee {
    public void printName() {
        System.out.println("Я просто сотрудник");
    }
}


class Boss extends Employee {
    private Integer quantityEmployees;

    public Boss(Integer quantityEmployees) {
        this.quantityEmployees = quantityEmployees;
    }

    public Integer getQuantityEmployees() {
        return quantityEmployees;
    }

    @Override
    public void printName() {
        System.out.println("Я тут босс!");
    }
}


class Manager extends Employee {
    @Override
    public void printName() {
        System.out.println("Я простой менеджер");
    }
}


class Security extends Employee {
}
```

Вывод:
```java
Я тут босс!
Я простой менеджер
Я простой менеджер
Я просто сотрудник
Я простой менеджер
500
```

______

## Самый простой пример полиморфизма toString

Правильно ли я понимаю, что полиморфизм - это переопределение/перегрузка методов (и все)?

Нет, неправильно. Это как бы необходимое условие. 
Да, в Java перегрузка метода является полиморфизмом - то есть в Java все методы полиморфные, 
а скажем в С++ это не так. 

Перегрузка метода не тождественна полиморфности. 
В C++ есть еще ключевое слово virtual, то есть нужно, 
чтобы метод был еще обозначен как виртуальный, только тогда он будет обладать полиморфизмом.

Самый простой пример полиморфизма, это то что все прогеры бессознательно используют - метод Object.toString(), например:

```java
package oop_polymorphism.test3;

public class Child {
    private int age;

    @Override
    public String toString() {
        return "age is " + age;
    }

    public static void main(String[] args) {
        Child child = new Child();
        Object myObject = child;
        System.out.println(child);      //печатаем объект Child
        System.out.println(myObject);   //печатаем объект Object
    }

}
```

Выдача в обоих случаях будет одинаковой: 
```java
age is 0
age is 0
```

Однако если бы не было полиморфизма:

В первом случае выдача была бы:
```java
age is 0
```
Во втором случае:
```java
Object@456
```












